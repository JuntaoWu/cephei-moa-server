<div class="row">

  <div class="col-md-12">
    <button type="button" class="btn btn-primary " (click)="showChart = false">列表</button>
    <button type="button" class="btn btn-primary " (click)="showChart = true">视图</button>
    <nb-card *ngIf="!showChart">
      <nb-card-header>
        日增用户列表
      </nb-card-header>

      <nb-card-body>
        <table style="width: 100%" mat-table [dataSource]="showList">
          <ng-container matColumnDef="registeredAt">
            <th mat-header-cell *matHeaderCellDef>注册时间</th>
            <td mat-cell *matCellDef="let item">{{ item.registeredAt | date: 'yyyy/MM/dd' }}</td>
          </ng-container>
          <ng-container matColumnDef="registeredWeek">
            <th mat-header-cell *matHeaderCellDef>注册星期</th>
            <td mat-cell *matCellDef="let item">{{ item.dayOfWeek | dayOfWeek }}</td>
          </ng-container>
          <ng-container matColumnDef="count">
            <th mat-header-cell *matHeaderCellDef>新增用户</th>
            <td mat-cell *matCellDef="let item">{{ item.count }}</td>
          </ng-container>
          <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef>总用户</th>
            <td mat-cell *matCellDef="let item">{{ item.total }}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </nb-card-body>

      <nb-card-footer>
        <div class="page-footer">
          <button type="button" class="btn btn-primary " (click)="prePage(true)">首页</button>
          <button type="button" class="btn btn-primary " (click)="prePage()">上一页</button>
          <button type="button" class="btn btn-primary " (click)="nextPage()">下一页</button>
          <button type="button" class="btn btn-primary " (click)="nextPage(true)">末页</button>
            第<span>{{ pageIndex + 1 }}</span>页/共<span>{{ pages }}</span>页
        </div>
      </nb-card-footer>
    </nb-card>
    
    <nb-card *ngIf="showChart">
      <nb-card-header>
        日增用户视图
      </nb-card-header>

      <nb-card-body>
        <div echarts [options]="chartOption" class="chart-box"></div>
      </nb-card-body>
    </nb-card>
  </div>
</div>